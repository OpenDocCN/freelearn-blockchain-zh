- en: Understanding IoT and Developing Devices on the IBM Watson IoT Platform
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In today's world, computers are able to process an unimaginable amount of data,
    and anyone can create and sell their own devices. Because of this, **Internet
    of Things** (**IoT**) has become a hot topic in the current business environment,
    and people are more connected than ever.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, you will see how IoT can be a game changer and discover what
    industries can do with this technology. We will look at how to get started in
    the IoT world, understand the features the IBM IoT Platform provides, and learn
    how to leverage these features when creating our own IoT solution.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: 'The following topics will be covered in this chapter:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: IoT as a business and technology
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Industries that are implementing IoT solutions
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Technical elements that are part of an IoT solution
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Features and capabilities available in the IBM Watson IoT Platform
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Creating a simple gateway, application, and device that are integrated into
    the IBM Watson IoT Platform
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: What is IoT?
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are many definitions of what IoT is, but the most common articles found
    on the web agree that it is a set of computerized things interconnected through
    the internet. Things can be understood as people, objects, computers, phones,
    buildings, animals, and anything that can be connected to the internet.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
- en: The term has been in use ever since embedded systems have been able to connect
    to the internet and have become participants in the network. From computers to
    mobile phones, smart watches to thermostats and refrigerators, entire production
    lines can now be connected to the internet.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: This evolution has also been enriched by the DIY community. Around the world,
    you will find prototyping systems, such as Arduinos, Raspberry Pis, and other
    **systems-on-a-chip** (**SOC**) available at lower prices; user-friendly programming
    languages; and even graphical programming.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
- en: So, how could a connected refrigerator, for example, benefit you? Well, this
    type of technology would allow the manufacturer to monitor your behavior and see
    that you are not at home from 9 A.M. to 6 P.M. each day because the refrigerator
    door wasn't opened during that time frame for one month. What if the refrigerator
    could be reprogrammed to reduce usage during that period because no one is going
    to open the door? What if the same manufacturer looks at the data collected from
    all the owners of that refrigerator? Getting an insight into what the different
    groups of owners are and how they interact with the refrigerator daily could make
    it possible to create a new model based on that information. This solution would
    be more ecological, customizable, and cheaper. It would also make it possible
    to update the refrigerator software to make it smarter, without the need for buying
    a new one.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
- en: Apple has released frameworks for the IoT such as **HomeKit** and **HealthKit**.
    These have different goals, but are still things that are connected to the internet.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
- en: People can connect objects such as door/window sensors, cameras, thermostats,
    light bulbs, and locks to the internet and then use the Home app on their iPhones
    to control them from anywhere in the world. This makes it possible to obtain automatic
    changes to thermostats when you are on your way home, or to be notified of things
    such as an open door when you're outside. It could even notify you of your daily weight, using
    a connected weight scale. Google, Amazon, and other companies have also introduced
    similar solutions to these use cases.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 人们可以将门/窗传感器、摄像头、恒温器、灯泡和门锁连接到互联网，然后利用iPhone上的家庭应用程序从世界任何地方来控制它们。这可以在你回家的路上自动更改恒温器，或者当你在外面时通知诸如开门之类的事情。甚至可以利用连接的体重秤通知你每天的体重。谷歌、亚马逊和其他公司也推出了类似的解决方案。
- en: The IBM Watson IoT Platform does not intend to deliver a product. Instead, it
    focuses on delivering a secure, scalable, and reliable platform to act as a connection
    hub between devices and applications.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: IBM Watson物联网平台并不打算提供产品。相反，它着重于提供一个安全、可扩展和可靠的平台，作为设备和应用程序之间连接的中心枢纽。
- en: Common business use cases of IoT
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物联网的常见商业用例
- en: The refrigerator was a simple and powerful example of using IoT at home, but
    it's not the only example of how this could be used. In this chapter, we will
    discuss a few different cases, industries, and people that could benefit from
    having connected devices.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 冰箱是在家中使用物联网的一个简单而强大的例子，但它并不是如何使用物联网的唯一例子。在本章中，我们将讨论一些不同的情况、行业和人们，他们可能从连接设备中受益。
- en: Connected car
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接的汽车
- en: Let's take the example of an autonomous car. With this, automakers can monitor
    general driver behavior and improve various aspects of the driving experience,
    as well as security. They can also detect failed components sooner, leading to
    earlier recalls and thereby improving customer satisfaction while reducing the
    production costs of problematic components. From the perspective of an automobile
    owner, this could be beneficial as they could monitor the wear and tear of the
    car parts and spend less money on maintenance costs.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们以自动驾驶汽车为例。有了它，汽车制造商可以监控驾驶员的一般行为，改善驾驶体验的各个方面，以及安全性。他们还可以更早地检测到组件故障，从而更早地进行召回，从而提高客户满意度，同时降低问题组件的生产成本。从汽车所有者的角度来看，这可能非常有益，因为他们可以监控汽车零部件的磨损，并在维护成本上花费更少的资金。
- en: Connected persons
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接的人员
- en: If you are a sports practitioner, you have probably already used a smartwatch
    to monitor your fitness. If all of that information was properly stored and analyzed,
    then medical studies could obtain more data that could predict diseases and maybe
    even improve overall quality of life.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你是一名运动从业者，你可能已经使用智能手表来监测你的健康状况。如果所有这些信息都得到了妥善存储和分析，那么医学研究可以获取更多的数据，可以预测疾病，甚至可能改善整体生活质量。
- en: Furthermore, connecting health devices (such as scales, heart monitors, and
    blood meters) and sharing data using blockchain could create a unified medical
    report for each person. Doctors could improve diagnostics and medical decisions
    as a result. This would also enable disease profiling and prediction.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，连接健康设备（如称重器、心率监测仪和血糖仪）并使用区块链共享数据可以为每个人创建统一的医疗报告。医生可以通过改善诊断和医疗决策。这也将使疾病的特征化和预测成为可能。
- en: IoT played a major role in the 2016 Olympics held in Rio de Janeiro.  Many connected
    items were used to gather information and process which factors had an effect
    on athletes' bodies during matches. This was also helpful for creating new equipment,
    such as bikes, and new regeneration strategies for intense competition.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 物联网在2016年在里约热内卢举办的奥运会中发挥了重要作用。许多连接的物品被用来收集信息并处理影响运动员身体状况的因素。这也有助于创建新的设备，如自行车，以及新的剧烈比赛的再生策略。
- en: These simple examples of how IoT will change our entire way of life provide
    us with more than one reason as to why we should care about it so much.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 这些简单的例子展示了物联网将如何改变我们整个生活方式，让我们对其如此关注有多个理由。
- en: Technical elements in IoT
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 物联网中的技术要素
- en: Internet of Things does not rely only on devices and applications. It requires
    a set of capabilities that, when used in an IoT solution, deliver more value to
    people and companies. In this section, we will discuss some of these capabilities,
    such as devices, hardware, and software, that are essential for designing and
    implementing an effective IoT solution.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: Devices
  id: totrans-28
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Devices are located at the edge of the IoT solution. In fact, these devices
    are what we call *Things* in the context of IoT. They are usually capable of sending
    and receiving data events.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: As an example, a device with an embedded soil moisture probe can detect that
    the monitored soil has 43% moisture. It can then report this informative event
    to the platform it's connected to. The platform can then send an action event
    to the device, triggering a water valve to open and restore the soil moisture.
    This interaction depends on other aspects related to the device, which will be
    covered in upcoming sections. For now, let's focus on the device.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
- en: In order to handle these types of interactions, you may think of a device as
    a computing unit that has analog or digital (or both) processing capabilities.
    This means that it is able to read and write analog and digital signals to their
    probes and actuators.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: An analog signal is a signal that can vary in a range of values. Let's take
    an Arduino Uno board, for example. Arduino Uno has a 10-bit resolution **analog-to-digital
    converter** (**ADC**), which means that it can read voltages from 0V to 5V and
    map them into integer values between 0 and 1,023 (2^(10) = 1,024). Analog signals
    are generally used to read data from analog sensors.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: 'A digital signal is a binary signal, which means that it has only two possible
    values: 0 or 1, high or low. This kind of signal is mostly used to identify or
    change on and off states, for example, turning an LED bulb on or off.'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
- en: Edge computing
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Devices are also capable of handling some actions by themselves. This could
    either be a simple decision: for example, if the moisture level of the soil is
    below 50%, open the water valve for a minute and check the moisture level again
    after five minutes.'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
- en: 'Alternatively, it can be a complex task: for example, determining whether an
    object detected by the camera of an autonomous car is a person waiting to cross
    the street or a tree.'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: Devices that have to process these kinds of analyses cannot always rely on a
    network or an application for information or assistance. What if one of them is
    out of service? This could cause an accident.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: 'Therefore, such devices are provided with a different type of capability called
    edge computing, which is the capability of processing analytics at the very edge
    of the solution: the device itself. Basically, edge computing allows the device
    to perform some actions and calculations "offline," without an active connection
    to a network.'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: When selecting the device or devices that will be part of your IoT solution,
    the best method is to ensure that all capabilities are present in the device.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择将成为物联网解决方案一部分的设备时，最好的方法是确保设备具备所有的功能。
- en: Since there is a very high number of devices in an IoT network, exceeding capabilities
    can lead to different problems related to cost, power supply, connection protocol,
    user experience or even solution complexity.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 由于物联网网络中的设备数量非常庞大，超出能力范围可能导致与成本、电源供应、连接协议、用户体验甚至解决方案复杂性相关的不同问题。
- en: Networking
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络
- en: Another important element of any IoT solution is networking. Today there are
    several ways to connect devices, so this is an important aspect that has to be
    considered when choosing your device. The most common networking standards used
    today are cabled networks or Wi-Fi, cellular/mobile, **LPWAN**, and **LoRa**. All
    of these have pros and cons, so let's take a closer look at their uses.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 任何物联网解决方案的另一个重要元素是网络。如今有几种连接设备的方式，因此在选择设备时必须考虑到这一重要方面。如今最常用的网络标准是有线网络或 Wi-Fi、蜂窝/移动、**LPWAN**和**LoRa**。所有这些都有优缺点，所以让我们更仔细地看一下它们的用途。
- en: Wireless (Wi-Fi) or cabled network
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 无线（Wi-Fi）或有线网络
- en: Wi-Fi is the most common standard communication model on the internet. It assumes
    that the device or object being connected to is capable of connecting to an IEEE
    802.x network and therefore is able to handle IP-based networks.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: Wi-Fi 是互联网上最常见的标准通信模型。它假定被连接的设备或对象能够连接到 IEEE 802.x 网络，因此能够处理基于 IP 的网络。
- en: There are many wi-fi capable devices available in the market. Some examples
    of Wi-Fi modules are the **ExpressIf ESP-8266** and **ESP-32** modules, **Texas
    Instruments CC3200**, **Microchip ATSAMW25**, **Intel Edison**, and **Galileo**.
    This is not the complete list of devices and there are many other combinations
    that combine a Wi-Fi capable controller and an MCU.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 市场上有许多可连接 Wi-Fi 的设备。一些 Wi-Fi 模块的示例包括**ExpressIf ESP-8266**和**ESP-32**模块、**Texas
    Instruments CC3200**、**Microchip ATSAMW25**、**Intel Edison**和**Galileo**。这并非设备的完整列表，还有许多其他组合，结合了
    Wi-Fi 可能的控制器和 MCU。
- en: Wi-Fi modules are relatively cheap and are generally good options for when it's
    possible or desirable to use an available network and support high-payload transfers,
    given their reliability and connection speed (up to 6.7 Gbps).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: Wi-Fi 模块相对便宜，通常是使用现有网络并支持高负载传输的良好选择，因为它们可靠且连接速度快（高达 6.7 Gbps）。
- en: 'A Wi-Fi-based IoT solution looks pretty much like the following diagram:'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 基于 Wi-Fi 的物联网解决方案看起来几乎是以下图表所示：
- en: '![](img/7aa867df-944c-4a66-9597-bd321e997957.jpg)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![图](img/7aa867df-944c-4a66-9597-bd321e997957.jpg)'
- en: Multiple devices can connect to a node, such as a router, which in turn connects
    to the internet and allows connected devices to access the internet.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 多个设备可以连接到一个节点，例如路由器，路由器连接到互联网，允许连接的设备访问互联网。
- en: Cellular/mobile network
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 蜂窝/移动网络
- en: A cellular network is the same connection that any mobile phone uses. The basic
    idea with this kind of network is to divide a territory into a number of cells,
    each one with a wireless network connection served by a base station and a number
    of transceivers. The network provides a number of services, such as voice, text,
    and data.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 蜂窝网络是任何移动电话使用的相同连接。这种网络的基本思想是将一个区域划分为若干个小区，每个小区都有一个由基站和若干个收发器提供无线网络连接的基站。该网络提供一系列服务，如语音、文本和数据。
- en: Mobile networks are an option when a device type in a solution is not in the
    range of a Wi-Fi network, such as in a car. Another application that may require
    a mobile network device is when the solution cannot depend on the user's network,
    for example, if you are using a subscription for the device, and the device's
    activity depends on a network connection. When using the subscription network,
    the device will continue to do its job even if the user disables their own connection
    to the network.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 移动网络是在解决方案中的设备类型不在 Wi-Fi 网络范围内时的一个选择，例如在汽车中。可能需要移动网络设备的另一个应用是当解决方案不能依赖用户的网络时，例如，如果您使用的是设备的订阅，且设备的活动取决于网络连接。当使用订阅网络时，即使用户禁用了他们自己的网络连接，设备也将继续执行其工作。
- en: 'The image below depicts the working of a standard cellular network:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 下图显示了标准蜂窝网络的工作原理：
- en: '![](img/fb2fe7a9-449d-44d1-972b-122b15eec4ea.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![图](img/fb2fe7a9-449d-44d1-972b-122b15eec4ea.png)'
- en: We can see that a cellular antenna provides a signal to a limited region. The
    devices in range can then connect through a wireless network to the antenna and
    use the services provided by the mobile service provider, including the available
    internet connection.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以看到，蜂窝天线向有限区域提供信号。范围内的设备可以通过无线网络连接到天线，并使用移动服务提供商提供的服务，包括可用的互联网连接。
- en: Low-power wide-area network (LPWAN)
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 低功耗广域网络（LPWAN）
- en: LPWAN is a type of wireless network designed to work in wide areas at very low
    bitrates, which means that the exchange in this type of network is really small.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: LPWAN 是一种设计用于在广泛区域内以非常低比特率工作的无线网络类型，这意味着在这种类型的网络中，交换量确实很小。
- en: LPWAN uses low-power, low-bitrate, and low-frequency devices that are very powerful
    when used to connect to things. This is because it enables the use of long-lasting
    batteries and smaller devices. But there are still many restrictions, such as
    small data payloads or a limited number of messages per day.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: LPWAN 使用低功耗、低比特率和低频设备，当用于连接物品时非常强大。这是因为它使得可以使用持久电池和更小的设备。但仍然存在许多限制，如小数据负载或每天限定的消息数量。
- en: Having lower frequencies allows an LPWAN to be very reliable and unsusceptible
    to interference, even when propagating messages for very large ranges. LPWAN providers
    normally have a limit for the number of messages sent in the network. There are
    many providers of LPWANs, and the most famous of these is probably Sigfox.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 由于频率较低，LPWAN 可以非常可靠且不易受干扰，即使在传播非常大范围的消息时也是如此。LPWAN 提供商通常对网络中发送的消息数量有限制。LPWAN
    有许多提供商，其中最著名的可能是 Sigfox。
- en: 'LPWANs do not have a direct connection from the device or gateway to the internet.
    Instead, they usually have a pre-provisioned network, where at one end of the
    network you will have the devices and at the other end you would have a number
    of web hooks and functions that allow you to connect to your application or platform:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: LPWAN 并没有设备或网关到互联网的直接连接。相反，它们通常具有预配置的网络，在网络的一端，您将拥有设备，在另一端，您将有许多 web 钩子和功能，允许您连接到您的应用程序或平台：
- en: '![](img/ac83d29e-c501-42e3-b36e-437088f76096.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/ac83d29e-c501-42e3-b36e-437088f76096.png)'
- en: Different from a cellular network, LPWAN networks do not provide internet connection
    to the devices, instead they provide means to create triggers on events received
    from the devices to the network. As an example, you can create an application
    and a trigger at the edge of the LPWAN provider network to the internet that whenever
    a data event is received from a device, it calls a service available at the internet
    with given data from the even published by the device.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 与蜂窝网络不同，LPWAN 网络不向设备提供互联网连接，而是提供了一种从设备到网络的事件触发的方法。例如，您可以在 LPWAN 提供商网络边缘创建一个应用程序和触发器，以使设备接收到数据事件时，它调用互联网上的一个可用服务，并使用设备发布的给定数据。
- en: LoRa or LoRaWAN
  id: totrans-63
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: LoRa 或 LoRaWAN
- en: 'A LoRa network diagram is similar to an LPWAN network, except that instead
    of using service provider infrastructure, LoRa networks can have a gateway that
    allows devices to connect to the internet. The person responsible for a LoRa network
    infrastructure is the owner of the network, meaning that you do not rely on a
    network service provider. You create your own network:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: LoRa 网络图与 LPWAN 网络类似，只是不使用服务提供商基础设施，LoRa 网络可以有一个网关，允许设备连接到互联网。负责 LoRa 网络基础设施的人是网络的所有者，这意味着您不依赖网络服务提供商。您创建自己的网络：
- en: '![](img/3575747e-24a3-47e2-8064-3b2148c10b20.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![图像](img/3575747e-24a3-47e2-8064-3b2148c10b20.png)'
- en: There are a few technologies that work on the same model as LoRA, with different
    protocols, such as ZigBee. Phillips Hue uses the same approach to connect light
    bulbs, LED stripes, and other Hue devices to a gateway using ZigBee, and the gateway
    then connects to the Hue cloud.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些与 LoRA 相同模型的技术，使用不同的协议，如 ZigBee。飞利浦 Hue 使用与 ZigBee 相同的方法连接灯泡、LED 灯带和其他 Hue
    设备到一个网关，然后网关连接到 Hue 云。
- en: Network summary
  id: totrans-67
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 网络摘要
- en: 'To summarize, you can use this table as a reference when selecting network
    connections:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 总之，在选择网络连接时，您可以使用此表作为参考：
- en: '| **Type** | **Speed** | **Payload** | **Range** | **Connection initialization**
    | **Cost** | **Infrastructure** |'
  id: totrans-69
  prefs: []
  type: TYPE_TB
  zh: '| **类型** | **速度** | **负载** | **范围** | **连接初始化** | **成本** | **基础设施** |'
- en: '| Wi-Fi | High | High | Low | Bidirectional | Low | Private/Public |'
  id: totrans-70
  prefs: []
  type: TYPE_TB
  zh: '| Wi-Fi | 高 | 高 | 低 | 双向 | 低 | 私人/公共 |'
- en: '| Mobile | High | High | High | Bidirectional | High | Provider |'
  id: totrans-71
  prefs: []
  type: TYPE_TB
  zh: '| 移动网络 | 高 | 高 | 高 | 双向 | 高 | 提供商 |'
- en: '| LPWAN | Low | Low | High | Device | Low | Provider |'
  id: totrans-72
  prefs: []
  type: TYPE_TB
- en: '| LoRa | Low | Low | High | Bidirectional | Low | Private |'
  id: totrans-73
  prefs: []
  type: TYPE_TB
- en: Application protocols
  id: totrans-74
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: After deciding the most adequate device for your IoT solution, it's important
    to define the protocol that will be used to communicate with devices. IoT solutions
    tend to use lightweight protocols, such as MQTT. This is not the only protocol
    that can be used in IoT, but since the IBM Watson IoT Platform relies on MQTT
    and REST—and REST is very popular—let's focus a little on MQTT.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
- en: MQTT
  id: totrans-76
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: MQTT stands for **Message Queuing** **Telemetry Transport**. It is an extremely
    lightweight messaging protocol based on the publish and subscribe pattern. As
    with any message queuing model, it is an asynchronous protocol.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
- en: 'As shown in the following diagram, publish and subscribe (pub/sub) models rely
    on three actors:'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/748a8be3-d3d9-44de-9906-39b670f97f05.png)'
  id: totrans-79
  prefs: []
  type: TYPE_IMG
- en: 'The three actors are explained as follows:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
- en: The **publisher** is the actor that produces any content and publishes it to
    a given subject (known as a topic).
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The **subscriber** is an event consumer. The subscriber subscribes to its subjects
    (topics) of interest and gets the event published every time a **publisher** creates
    a publication to one of its subscriptions.
  id: totrans-82
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: The **Broker** is responsible for receiving publications and notifying the subscribers
    of a topic of interest.
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Now let's move on to the next important technical element.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
- en: Analytics and AI
  id: totrans-85
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Having an analytics or artificial intelligence software component in your IoT
    solution is not required, but it's really interesting to use them to process data
    collected from devices to extract patterns and insights that could lead to predictive
    maintenance, a better understanding of user behavior, and so on.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
- en: For example, let's look at some data that is captured through washing machines.
    Someone may have bought the appliance because it was supposed to save energy.
    However, after processing the data collected, it becomes clear that the appliance
    is consuming more energy than thought. The root cause is the lubricant as it was
    inadequate for its motor in non-tropical countries.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
- en: Later, let's say you compare that information with sales data and realize that
    1 million washing machines were sold in Europe approximately eight months ago.
    The manufacturer of the washing machine can get the benefit of early shipping
    rates for the spare parts that must be exchanged. The manufacturer can also get
    a predictable amount of new lubricant for their supplier, and this could perhaps
    lead to a new appliance design.
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
- en: IBM Watson IoT Platform features
  id: totrans-89
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The IBM Watson IoT Platform is a hub for connecting devices, gateways, and applications
    for IoT solutions. It supports REST and MQTT protocols for applications, devices,
    gateways, event processing, and administrative tasks. The IBM Watson IoT Platform
    is available on the IBM Cloud platform (formerly IBM Bluemix), a cloud platform
    based on Cloud Foundry and Kubernetes.
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
- en: Let's review the pertinent features of this platform.
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
- en: Features
  id: totrans-92
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this section, we will discuss the following main features of the IBM Watson
    IoT Platform:'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
- en: Dashboard
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Devices, gateways, and applications,
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Security
  id: totrans-96
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Let's begin!
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
- en: Dashboard
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'This is the first thing that you will see when you access the IBM Watson IoT
    Platform. This dashboard can be a combination a number of boards and cards, offering
    several visualization options for your IoT solution:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/c1b1ff49-ecd8-4202-a5a6-e1318222a3fa.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
- en: Explore the boards and cards available in this screen to get familiar with the
    interface.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: Devices, gateways, and applications
  id: totrans-102
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Another feature available in the platform is device management control. This
    feature makes it possible to create and remove devices, gateways, applications,
    and device types. It also makes it possible to check and trigger actions to the
    device, such as a firmware upgrade request or reset:'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/42847cbb-d369-46a9-bb3a-11db26e7c205.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
- en: You can also create API keys so that your applications can connect to the IoT
    organization and interact with the other components of the solution.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
- en: Security
  id: totrans-106
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: You can also manage the security aspects of a solution using the IoT Platform.
    This might include creating policies for device connections, white and black lists
    for the device's IP address, or looking at a country's rules. You can also manage
    users that are permitted or blocked from managing the IoT organization for solutions.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
- en: Creating your first IoT solution
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In earlier sections of this chapter, there were many devices and applications
    that were not explained in depth. To understand their roles in an IoT solution,
    it's important to create one example of each.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
- en: 'The scenario created here will be a **Device** connected to the **IBM Watson
    IoT Platform** that sends a timestamp as data, as well as an **Application** that
    prints that to **stdout** using Node.js:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/55b73ec1-d430-4d44-a5d9-7841d00bda6f.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
- en: 'We will then improve this by adding a gateway to the solution, which looks
    similar to the following diagram:'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6d2cd20d-299d-44d4-ae2e-1e0852bcddf3.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
- en: At the end of the day, the difference of having a gateway connection and a device
    connection is that you can create an abstraction or specialization of the device
    connected to the IoT platform, depending on whatever is easier, cheaper, or any
    other reasons that might drive the decision.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
- en: Creating a gateway
  id: totrans-115
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The first task of the job is to create an IoT organization. If you do not have
    an IBM ID and IBM Cloud account, the sign-up process is very intuitive and only
    takes a couple of minutes. If you already have an IBM Cloud account and an IBM
    ID, access the IBM Cloud platform at [http://bluemix.net](http://bluemix.net).
    First, log in and create a space for the exercises in this book.
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
- en: 'After logging in to the IBM Cloud platform and accessing the designated space,
    select the Create resource  option to access the service catalog:'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/b2e09477-e9bb-4289-b430-de4c0f02b32a.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
- en: Select Internet of Things in the menu and create a service called Internet of
    Things Platform*. *Now, select the option to Create**:**
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 在菜单中选择物联网，创建一个名为物联网平台的服务。然后选择创建选项：**：
- en: '![](img/31c3f672-c399-4318-b420-0dde4dad3869.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![](img/31c3f672-c399-4318-b420-0dde4dad3869.png)'
- en: 'When the service is created, you can select the Launch option and access the
    IoT Platform:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 创建服务后，您可以选择“启动”选项并访问 IoT 平台：
- en: '![](img/f8e06f00-6d09-4039-b5de-ed8e6c73c76c.png)'
  id: totrans-122
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f8e06f00-6d09-4039-b5de-ed8e6c73c76c.png)'
- en: When you access the IoT Platform, notice that the address is `https://xxxxxx.internetofthings.ibmcloud.com/`.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 当您访问 IoT 平台时，请注意地址为`https://xxxxxx.internetofthings.ibmcloud.com/`。
- en: Here, `xxxxxx` is your organization ID; make a note of it as it will be used
    during the entire process.
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，`xxxxxx`是您的组织 ID；请注意下，因为在整个过程中会用到它。
- en: Creating an application
  id: totrans-125
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建一个应用
- en: 'Creating an application means that you''re allowing an actual application or
    service to connect to a specific Watson IoT Platform organization:'
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 创建应用意味着，您允许实际的应用程序或服务连接到特定的 Watson IoT 平台组织：
- en: 'In order to do that, access the IoT organization through the IBM Cloud dashboard,
    select Apps from the side menu, then select *Generate API key* and fill in the
    *Description* field with `Hands-On IoT Solutions with Blockchain - Chapter 1 App`*.*
    Finally, click on Next:'
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为了做到这一点，通过 IBM Cloud 仪表板访问 IoT 组织，从侧边菜单中选择应用程序，然后选择*生成 API 密钥*，填写*描述*字段为`Hands-On
    IoT Solutions with Blockchain - Chapter 1 App`*。最后，点击“下一步”：
- en: '![](img/bfb95564-4c0e-477d-ae39-5c17967fe804.png)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bfb95564-4c0e-477d-ae39-5c17967fe804.png)'
- en: 'Select the Standard Application role and click on Generate Key*.* You will
    get an `API Key` and `Authentication Token`. Make a note of these in a table format,
    like the one that follows, as you''ll need them to connect to your application:'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择标准应用角色，然后点击*生成密钥*。您将得到一个`API 密钥`和`认证令牌`。请记下这些内容，以表格形式记录，因为您将需要它们连接到您的应用程序：
- en: '| API key | Authentication token |'
  id: totrans-130
  prefs: []
  type: TYPE_TB
  zh: '| API 密钥 | 认证令牌 |'
- en: '|  |  |'
  id: totrans-131
  prefs: []
  type: TYPE_TB
  zh: '|  |  |'
- en: 'Next, open the IDE of your preference, create a new Node.js project, and install
    the `ibmiotf` dependency package:'
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，打开您喜欢的 IDE，创建一个新的 Node.js 项目，并安装`ibmiotf`依赖包：
- en: '[PRE0]'
  id: totrans-133
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Ensure that your `package.json` file looks something like the following:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您的`package.json`文件看起来与下面的内容类似：
- en: '[PRE1]'
  id: totrans-135
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Now, create a file named `application.json` with the following content:'
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，创建一个名为`application.json`的文件，内容如下：
- en: '[PRE2]'
  id: totrans-137
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Create a file named `index.js` and add the following content:'
  id: totrans-138
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`index.js`的文件，并添加以下内容：
- en: '[PRE3]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'The application can be tested by running the `npm start` command:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可以通过运行`npm start`命令来测试应用程序：
- en: '[PRE4]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: Congratulations, you just created your first application connected to IBM Watson
    IoT Platform!
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜，您刚刚创建了连接到 IBM Watson IoT 平台的第一个应用程序！
- en: 'Now, update `index.js` to have the following content:'
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，更新`index.js`的内容如下：
- en: '[PRE5]'
  id: totrans-144
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Now, whenever a device publishes an event, you will get the event printed to
    `stdout`. In the next section, we will create a device to publish the events.
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，每当设备发布事件时，您将在`stdout`中得到事件的打印。在下一节中，我们将创建一个设备来发布事件。
- en: Creating a device
  id: totrans-146
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建一个设备
- en: In this section, you'll run through similar steps to create a fake device that
    connects to IBM Watson IoT Platform and publishes an event.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，您将运行类似步骤，创建一个模拟设备，连接到 IBM Watson IoT 平台，并发布事件。
- en: 'From the IoT Platform service created in the setup step, select Devices in
    the menu and then select Add Device*.* Create a device type named DeviceSimulator
    and fill in the Device ID field with `DeviceSimulator01`:'
  id: totrans-148
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在设置步骤中创建的 IoT 平台服务中，在菜单中选择设备，然后选择添加设备。创建一个名为 DeviceSimulator 的设备类型，并在设备 ID 字段中填写`DeviceSimulator01`：
- en: '![](img/03f7ecb0-a54f-456b-9691-1971c18dfbfd.png)'
  id: totrans-149
  prefs: []
  type: TYPE_IMG
  zh: '![](img/03f7ecb0-a54f-456b-9691-1971c18dfbfd.png)'
- en: 'Since it''s only a simulator, just click on Next until you reach the end of
    the wizard:'
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于这只是一个模拟器，只需点击“下一步”，直到达到向导的末尾即可：
- en: '![](img/c09fc701-9aa8-48cd-bf95-36e920052085.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c09fc701-9aa8-48cd-bf95-36e920052085.png)'
- en: 'Note the device credentials generated, in the following format:'
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 注意生成的设备凭据，格式如下：
- en: '| Device type | Device ID | Authentication method | Authentication token |'
  id: totrans-153
  prefs: []
  type: TYPE_TB
  zh: '| 设备类型 | 设备 ID | 认证方法 | 认证令牌 |'
- en: '|  |  |  |  |'
  id: totrans-154
  prefs: []
  type: TYPE_TB
  zh: '|  |  |  |  |'
- en: 'Go back to your preferred IDE and create the project with the same characteristics
    as the previous application:'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 回到您喜欢的 IDE，并创建具有与之前应用相同特性的项目：
- en: '[PRE6]'
  id: totrans-156
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Ensure that your `package.json` file looks like the following:'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您的`package.json`文件看起来像下面这样：
- en: '[PRE7]'
  id: totrans-158
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Then, create a file named `device.json` with the following content:'
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，创建一个名为`device.json`的文件，内容如下：
- en: '[PRE8]'
  id: totrans-160
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Create a file named `index.js` and add the following content:'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`index.js`的文件，并添加以下内容：
- en: '[PRE9]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'The device simulator can be tested by running the `npm start` command:'
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 可以通过运行`npm start`命令来测试设备模拟器：
- en: '[PRE10]'
  id: totrans-164
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Now, update the code to send an event with the current timestamp to the IoT
    Platform service:'
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，更新代码，将当前时间戳发送到 IoT 平台服务：
- en: '[PRE11]'
  id: totrans-166
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Run `npm start` again and every two seconds the device will send an event to
    the Watson IoT Platform. You can check the logs of the application to see whether
    it has received the events, like so:'
  id: totrans-167
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 再次运行`npm start`，设备将每两秒向 Watson IoT 平台发送一个事件。你可以检查应用程序的日志，查看它是否接收到了事件，如下所示：
- en: '[PRE12]'
  id: totrans-168
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: Congratulations again, your device simulator is now publishing events and your
    application is receiving them!
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜！你的设备模拟器现在正在发布事件，你的应用程序正在接收它们！
- en: Summary
  id: totrans-170
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we had an overview of the IoT environment. We learned about
    some important technical elements that play a role in the successful implementation
    of an IoT solution.
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们概述了物联网环境。我们了解了一些在成功实施物联网解决方案中起作用的重要技术要素。
- en: We also looked at the different types of networking options, important considerations
    when selecting a device type, and how to create a device and an application connected
    to the IBM Watson IoT Platform.
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还研究了不同类型的网络选项、选择设备类型时的重要考虑因素，以及如何创建一个连接到 IBM Watson IoT 平台的设备和应用程序。
- en: In the next chapter, you will improve your development skills by creating a
    simple connected garden.
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，你将通过创建一个简单的连接花园来提高你的开发技能。
- en: Further reading
  id: totrans-174
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 进一步阅读
- en: 'Examples in other languages such as Python, Java, C++, and C# can be found
    in the IBM Watson IoT Platform documentation at the following link: [https://console.bluemix.net/docs/services/IoT/getting-started.html#getting-started-with-iotp](https://console.bluemix.net/docs/services/IoT/getting-started.html#getting-started-with-iotp).'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 在 IBM Watson IoT 平台文档中可以找到其他语言的示例，例如 Python、Java、C++ 和 C#，链接如下：[https://console.bluemix.net/docs/services/IoT/getting-started.html#getting-started-with-iotp](https://console.bluemix.net/docs/services/IoT/getting-started.html#getting-started-with-iotp)。
